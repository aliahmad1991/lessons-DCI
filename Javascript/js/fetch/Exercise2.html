<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Exercise</title>
</head>
<body>
    
<script>
var users = [{
    'username': 'admin',
    'password': 'qwerty12345'
},
{
    'username': 'user',
    'password': 'user1_pass'
}
]

function userLogin(givenUsername, givenPassword) {
        return new Promise((resolve,reject)=>{
    setTimeout(function(){
// here goes Promise
for (i = 0; i < users.length; i++) {
    if(users[i].username == givenUsername && users[i].password == givenPassword) {
        console.log(`Welcome  ${givenUsername}`)
        resolve(`User with username ${givenUsername} found`)
    }
}
reject(`User was not found`);
    },3000);
    
})
}

function fileDownload() {
        return new Promise((resolve,reject)=>{
            setTimeout(function(){ 
            let link = "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
            console.log("downloading...")
           resolve(link)
                       
},3000);
})
}

function redirectHome(){
    return new Promise((resolve)=>{
setTimeout(function () {
    location.replace("https://www.w3schools.com");
    console.log('redirecting...');
   resolve("redirected successfully");
    
}, 2000);
})
}
function run(){
        const promise = userLogin('admin', 'qwerty12345').then(
            function(){
               return fileDownload();
            }
        ).then(
            function(){
                return redirectHome();
            }
        )
    }
async function async_run(){
    const promise1 = await userLogin('admin', 'qwerty12345');
    const promise2 = await fileDownload();
    const promise3 = await redirectHome();

}

</script>

</body>
</html>